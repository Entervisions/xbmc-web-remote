<?xml version="1.0"?>
<project name="exec" basedir="./">

    <property file="build.properties"/>
    <property name="target.web.path" value="${target.folder}/${project_name}"></property>

    <property name="exec.linux_32.target.path" value="${target.folder}/exec/linux_32"></property>
    <property name="res.linux_32.path" value="res_executables/linux_32"></property>
    <property name="exe.linux_32.path" value="xbmc_remote.sh"></property>

    <target name="package-executable_linux_32" description="Package executable for Linux 32 bits platform">

        <ant inheritall="false" antfile="build.xml" target="clean"></ant>
        <ant inheritall="false" antfile="build.xml" target="package"></ant>


        <copy todir="${exec.linux_32.target.path}">
            <fileset dir="${res.linux_32.path}/"/>
        </copy>

        <copy todir="${exec.linux_32.target.path}/data/content">
            <fileset dir="${target.web.path}/"/>
        </copy>

        <copy todir="${exec.linux_32.target.path}/data">
            <fileset dir="${res.folder}/appjs/">
                <include name="xbmc_remote.js"></include>
            </fileset>
        </copy>

        <chmod file="${exec.linux_32.target.path}/data/xbmc_remote.js" perm="+x"/>
        <chmod file="${exec.linux_32.target.path}/data/bin/node" perm="+x"/>
        <chmod file="${exec.linux_32.target.path}/data/bin/libffmpegsumo.so" perm="+x"/>

    </target>

    <target name="run-linux_32" description="Launch Linux 32 executable">
        <exec executable="/bin/sh" dir="${exec.linux_32.target.path}">
            <arg value="${exe.linux_32.path}"/>
        </exec>
    </target>


</project>